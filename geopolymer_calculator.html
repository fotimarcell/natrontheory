<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Geopolymer Calculator</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
        }
    </style>
    <script src="script/utility.js"></script>
</head>

<body>
    <iframe src="menu.html" class="menuframe"></iframe>

    <script>
        glob_alupercent = 43;
        glob_metakaolingram = 0;
        glob_metakaolin_siliconpercent = 53;
        glob_sio_gram = 0;
        glob_sio_mol = 0;
        glob_waterglass_percent = 36;
        glob_waterglass_gram = 100;
        glob_na2sio3_gram = 0;
        glob_missing_na_mol = 0;
        glob_have_si_mol = 0;
        glob_missing_si_mol = 0;
        glob_missing_cat_gram = 0;
        glob_viz_gram = 0;
        glob_viz_mol = 0;
        glob_missing_viz_mol = 0;
        glob_missing_viz_gram = 0;
        function calc_big() {
            glob_na2sio3_gram = glob_waterglass_gram * glob_waterglass_percent / 100;
            glob_viz_gram = glob_waterglass_gram - glob_na2sio3_gram;
            glob_na2sio3_mol = glob_na2sio3_gram / 122;
            glob_viz_mol = glob_viz_gram / 18;
            glob_missing_viz_mol = 5.5 - glob_viz_mol;
            glob_missing_viz_gram = glob_missing_viz_mol * 18;
            document.getElementById('na2sio3_gram').textContent = glob_na2sio3_gram.toFixed(2);
            document.getElementById('na2sio3_mol').textContent = glob_na2sio3_mol.toFixed(2);
            document.getElementById('si_mol').textContent = glob_na2sio3_mol.toFixed(2);
            document.getElementById('na_mol').textContent = (glob_na2sio3_mol * 2).toFixed(2);
            document.getElementById('viz_gram').textContent = glob_viz_gram.toFixed(2);
            document.getElementById('viz_mol').textContent = glob_viz_mol.toFixed(2);
            document.getElementById('have_viz_mol').textContent = glob_viz_mol.toFixed(2);
            document.getElementById('missing_viz_mol').textContent = glob_missing_viz_mol.toFixed(2);
            document.getElementById('missing_viz_gram').textContent = glob_missing_viz_gram.toFixed(2);

            glob_missing_na_mol = 1 - glob_na2sio3_mol * 2;
            document.getElementById('have_na_mol').textContent = (glob_na2sio3_mol * 2).toFixed(2);
            document.getElementById('missing_na_mol').textContent = glob_missing_na_mol.toFixed(2);
            document.getElementById('missing_naoh_gram').textContent = (glob_missing_na_mol * 40).toFixed(1);
            document.getElementById('missing_koh_gram').textContent = (glob_missing_na_mol * 56).toFixed(1);
            document.getElementById('missing_naoh_gram2').textContent = (glob_missing_na_mol * 40).toFixed(1);
            document.getElementById('missing_koh_gram2').textContent = (glob_missing_na_mol * 56).toFixed(1);

            glob_have_si_mol = glob_sio_mol + glob_na2sio3_mol;
            glob_missing_si_mol = 2 - glob_have_si_mol;
            glob_missing_cat_gram = glob_missing_si_mol * 60;
            document.getElementById('have_si_mol').textContent = glob_have_si_mol.toFixed(2);
            document.getElementById('missing_si_mol').textContent = glob_missing_si_mol.toFixed(2);
            document.getElementById('missing_cat_gram').textContent = glob_missing_cat_gram.toFixed(1);
            document.getElementById('missing_cat_gram2').textContent = glob_missing_cat_gram.toFixed(1);

        }
    </script>
    <div id="top" class="csik mobil-margok">
        <div class="szurkecsik">
            <div class="title">Introducing the "famous"</div>
            <div class="title" style="font-size: 50px;">Geopolymer Calculator</div>
        </div>
    </div>

    <div class="container">
        <div class="row reverse">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>The Kriven Formula</p>
                    Precise geopolymer formulas are hard to find on the Internet. Not because it is high secret but
                    because
                    the field is still in development (=chaos). One of the leading scientists is Waltraud M. Kriven,
                    we'll use
                    her formula on this page for our calculations. This one:
                    <div style="display: inline; font-size: larger; margin: 1em">
                        M&bull;AlO<sub>2</sub>&bull;2SiO<sub>2</sub>&bull;5.5H<sub>2</sub>O</div>
                    Which looks absolutely crazy.
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/metakaolin.jpg');">
            </div>
        </div>
        <div class="row">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>Decyphering the formula</p>
                    First of all, that capital M at the beginning of the formula is not a chemical element you never
                    heard of
                    but a placeholder for either Sodium (Na) or Potassium (K).
                    <br><br>
                    Second, if we omit that bloody oxigen (O) we end up with a much more condensed version:
                    <div style="display: inline; font-size: larger; margin: 1em">M&bull;Al&bull;2 Si&bull;5.5 water
                    </div>
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/ocean.webp');"></div>
        </div>
        <div class="row reverse">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>In plain English</p>
                    We want:
                    <ul style="text-align: left;">
                        <li>the same number of "M" (Sodium or Potassium) atoms as Aluminum (Al) atoms in the mix
                        </li>
                        <li>twice as much Silicon (Si) atoms than Aluminum atoms</li>
                        <li>5.5 times more water molecules than Aluminum atoms</li>
                    </ul>
                    <p>Or in short:</p>
                    1 part "M", 1 part Aluminum, 2 part Silicon, 5.5 part water
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/printing.jpg');">
            </div>
        </div>
        <div class="row">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>Molecular mass and mol</p>
                    <div>We'll calculate with mols, or 6*10<sup>23</sup> atoms (or molecules) at a time. 1 mol material
                        has the convenient property to "calculate" its weight by simply telling "grams" after the molar
                        mass number.
                        <br><br>
                        If you are not familiar with these concepts, please learn them before moving on or you'll get
                        lost.
                        Guaranteed.
                    </div>


                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/molecules.jpg');">
            </div>
        </div>
        <div class="row reverse">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>Calculating water's molecular mass</p>
                    <div style="display: inline;">
                        <b>Hydrogen (H)</b> has 1 proton
                        only, so it's atomic mass is <b>1</b>.<br>
                        <b>Oxigen (O)</b> has 8 protons + 8 neutrons, so it's atomic mass is <b>16</b>.<br><br>
                        What is the molecular mass of <b>water (H<sub>2</sub>O)</b> then? <br><b>1 + 1 + 16
                            = 18</b>
                    </div>
                    <div>
                        What is the weight of 1 mol water? <br><b>18 grams</b>.
                    </div>
                    <div>
                        How many mols of H can be found in 1 mol water? <br><b>2 mol H</b>.
                    </div>
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/water.jpg');">
            </div>
        </div>
        <div class="row ">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>Molecular masses we use</p>

                    <table>
                        <tr>
                            <th>Atomic masses (atoms)</th>
                            <th>Molecular masses (molecules)</th>
                        </tr>
                        <tr>
                            <td>K (potassium): 39</td>
                            </td>
                            <td>KOH: 56</td>
                        </tr>
                        <tr>
                            <td>Na (sodium): 23</td>
                            <td>NaOH: 40</td>
                        </tr>
                        <tr>
                            <td>Si (silicon): 28</td>
                            <td>SiO<sub>2</sub>: 60</td>
                        </tr>
                        <tr>
                            <td>Al (aluminum): 27</td>
                            <td>Al2O3<sub>2</sub>: 102</td>
                        </tr>
                        <tr>
                            <td>O (oxygen): 16</td>
                            <td>Water (H<sub>2</sub>O): 18</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Waterglass (Na<sub>2</sub>SiO<sub>3</sub>): 122
                        </tr>
                        <tr>
                    </table>
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/scale.jpg');">
            </div>
        </div>
        <div class="csik szurkecsik">
            <div class="title" style="font-size: 50px;">Step One</div>
            <div class="title">Calculating 1 part (1 mol) aluminum</div>
        </div>
        <div class="row reverse">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>Locking a parameter: Aluminum</p>
                    <div stlye="display: inline">
                        We can easily lock the amount of Al to 1 mol, because we have only one source of Al, the
                        metakaloin. (All the other
                        elements are
                        coming from two sources. Sodium is found both in the waterglas and in NaOH for
                        example.)<br><br>
                        1 mol Al<sub>2</sub>O<sub>3</sub> contains 2 mol (or 2 part) Aluminum atoms.
                        But we only need 1 mol Aluminum so we need <b>half mol</b> Al<sub>2</sub>O<sub>3</sub> in our
                        mix to have 1 mol Al.
                        According to our table above, half mol of Al<sub>2</sub>O<sub>3</sub>'s weight is<br>
                        102 / 2 = <b>51 g</b>

                    </div>
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/aluminium.jpg');">
            </div>
        </div>
        <div class="row ">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>How many Metakaolin we need?</p>
                    <div stlye="display: inline">
                        We can calculate the whole amount of metakaolin needed by using the percentage ratio
                        of Al<sub>2</sub>O<sub>3</sub>. You will find this number in the product data sheet (probably a
                        pdf).
                        <br><br>
                        <div>Percentage of Al<sub>2</sub>O<sub>3</sub> in your metakaolin product:
                            <input type="text" id="alupercent" style="width: 40px; text-align: right; display: inline;">
                            %
                        </div>

                        <button class="szep-gomb" onclick="
                    document.getElementById('alupanel').style.display = 'block';
                    glob_alupercent=document.getElementById('alupercent').value;
                    document.getElementById('alupercent2').textContent=glob_alupercent;

                    helyese=parseFloat(glob_alupercent);
                    if (!(!isNaN(helyese) && helyese >= 1 && helyese <= 100)) {
                        alert('Number must be between 1 and 100.');
                        return;
                    }
                    glob_metakaolingram=51*100/glob_alupercent;
                    document.getElementById('metakaolin').textContent=glob_metakaolingram.toFixed(1);
                    document.getElementById('metakaolin3').textContent=glob_metakaolingram.toFixed(1);
                    document.getElementById('metakaolin4').textContent=glob_metakaolingram.toFixed(1);
                    document.getElementById('metakaolin5').textContent=glob_metakaolingram.toFixed(1);

                    document.getElementById('metakaolin_button').disabled = false;
                    document.getElementById('sio_helptext').style.display = 'none';
                    
                    ">Calculate the amount of metakaolin needed</button>
                        <br><br>
                        <div style="display: none; text-align: left;" id="alupanel">
                            <table>
                                <tr>
                                    <th>Material</th>
                                    <th>Ratio</th>
                                    <th>Weight</th>
                                </tr>
                                <tr>
                                    <td>Al<sub>2</sub>O<sub>3</sub></td>
                                    <td><span id="alupercent2"></span>%</td>
                                    <td>51 g</td>
                                </tr>
                                <tr>
                                    <td>Metakaolin</td>
                                    <td>100%</td>
                                    <td><b><span id="metakaolin"></span> g</b></td>
                                </tr>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/Kaolin-Mine.jpeg');">
            </div>
        </div>
        <div class="row reverse">
            <div class="text baljobbkeret">
                <div class="padder">
                    <p>We have silicon in the metakaolin!</p>
                    <div>
                        Before we continue: there is another important number in that pdf, that is the percentage of
                        SiO<sub>2</sub> in the metakaolin product.
                        This is crucial because it is a constant amount we can only increase but not decrease with the
                        other components.
                        Let's calculate the "hidden" (in plain site) SiO<sub>2</sub> content in that <span
                            id="metakaolin3"></span>&nbsp;g metakaolin!
                    </div>
                    <div stlye="display: inline">

                        <br>
                        <div>Percentage of SiO<sub>2</sub> in your metakaolin product:
                            <input type="text" id="siopercent" style="width: 40px; text-align: right; display: inline;">
                            %
                        </div>

                        <button class="szep-gomb" disabled id="metakaolin_button" onclick="
                    document.getElementById('siopanel').style.display = 'block';
                    glob_metakaolin_siliconpercent=document.getElementById('siopercent').value;
                    document.getElementById('siopercent2').textContent=glob_metakaolin_siliconpercent;
    
                    helyese=parseFloat(glob_metakaolin_siliconpercent);
                    if (!(!isNaN(helyese) && helyese >= 1 && helyese <= 100)) {
                        alert('Number must be between 1 and 100.');
                        return;
                    }
                    glob_sio_gram=glob_metakaolin_siliconpercent*glob_metakaolingram/100;
                    document.getElementById('sio_gram').textContent=glob_sio_gram.toFixed(1);
                    document.getElementById('sio_gram2').textContent=glob_sio_gram.toFixed(1);
                    glob_sio_mol=glob_sio_gram / 60;
                    document.getElementById('sio_mol').textContent=glob_sio_mol.toFixed(4);
                    document.getElementById('sio_mol2').textContent=glob_sio_mol.toFixed(4);
                    document.getElementById('sio_mol3').textContent=glob_sio_mol.toFixed(4);
                    document.getElementById('sio_hiany').textContent=(2-glob_sio_mol).toFixed(4);

                    document.getElementById('waterglass_button').disabled = false;
                    document.getElementById('waterglass_helptext').style.display = 'none';

                    ">Calculate the amount of SiO2 in the metakaolin</button>
                        <div id="sio_helptext" style="font-size: smaller;">
                            This button is disabled until you calculate the amount of metakaolin above.
                        </div>
                        <br><br>
                        <div style="display: none; text-align: left;" id="siopanel">
                            <table>
                                <tr>
                                    <th>Material</th>
                                    <th>Ratio</th>
                                    <th>Weight</th>
                                </tr>
                                <tr>
                                    <td>Metakaolin</td>
                                    <td>100%</td>
                                    <td><span id="metakaolin4"></span> g</td>
                                </tr>
                                <tr>
                                    <td>SiO<sub>2</sub></td>
                                    <td><span id="siopercent2"></span>%</td>
                                    <td><span id="sio_gram"></span> g</td>
                                </tr>
                            </table>

                            <table>
                                <tr>
                                    <th>Material</th>
                                    <th>Weight</th>
                                    <th>Mol</th>
                                </tr>
                                <tr>
                                    <td>SiO<sub>2</sub></td>
                                    <td><span id="sio_gram2"></span> g</td>
                                    <td><span id="sio_mol"></span></td>
                                </tr>
                                <tr>
                                    <td>Si</td>
                                    <td></td>
                                    <td><span id="sio_mol2"></span></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="image baljobbkeret" style="background-image: url('img/geopolymer/quartz.jpg');">
            </div>
        </div>
    </div>
    <div class="row ">
        <div class="text baljobbkeret">
            <div class="padder">
                <p>Scoreboard</p>
                It's time to summarize where we are now. What do we have and what do we miss?
                <table>
                    <tr>
                        <th></th>
                        <th class="kozep">"M"</th>
                        <th class="kozep">Al</th>
                        <th class="kozep">Si</th>
                        <th class="kozep">H<sub>2</sub>O</th>
                    </tr>
                    <tr>
                        <td>Target</td>
                        <td class="kozep">1</td>
                        <td class="kozep">1</td>
                        <td class="kozep">2</td>
                        <td class="kozep">5.5</td>
                    </tr>
                    <tr>
                        <td>Current</td>
                        <td class="kozep">0</td>
                        <td class="kozep">1 ✔️</td>
                        <td class="kozep"><span id="sio_mol3"></span></td>
                        <td class="kozep">0</td>
                    </tr>
                    <tr>
                        <td class="piros"><b>Missing</b></td>
                        <td class="kozep piros"><b>1</b></td>
                        <td class="kozep"></td>
                        <td class="kozep piros"><b><span id="sio_hiany"></span></b></td>
                        <td class="kozep piros"><b>5.5</b></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="image baljobbkeret" style="background-image: url('img/geopolymer/teszta.webp');">
        </div>
    </div>
    <div class="csik szurkecsik">
        <div class="title" style="font-size: 50px;">Step Two</div>
        <div class="title">Calculating the other three components</div>
    </div>
    <div class="row">
        <div class="text baljobbkeret">
            <div class="padder">
                <p>Mind the gap!</p>
                <div>
                    We need to add some other materials to the mix:
                </div>
                <ul>
                    <li>Sodium (Na): from waterglass solution or from NaOH</li>
                    <li>Silicon (Si): from waterglass solution or from cat litter (not kidding)
                    </li>
                    <li>Water: from waterglass solution or from the tap</li>
                </ul>
                <div style="font-size: smaller;">

                    Cat litter is an excellent source of water soluble, amorphous SiO<sub>2</sub>, it's easy to use,
                    dirt cheap and clean.
                    (If you use it directly from the bag, not from under the cat.)
                </div>
            </div>
        </div>
        <div class="image baljobbkeret" style="background-image: url('img/geopolymer/catlitter.jpg');">
        </div>
    </div>
    <div class="row reverse">
        <div class="text baljobbkeret">
            <div class="padder">
                <p>Sodium silicate</p>
                <div>
                    Now we only need one more (and last) paramterer: the weight percentage of
                    Na<sub>2</sub>SiO<sub>3</sub>
                    in your waterglass solution.
                    It is clearly marked on the bottle, a typical number being 36%.
                </div>
                <br>
                <div>Percentage of Na<sub>2</sub>SiO<sub>3</sub> in your waterglass product:<br>
                    <input type="text" id="wgpercent" style="width: 40px; text-align: right; display: inline;" onblur="glob_waterglass_percent=this.value;
                        ">
                    %
                </div>
                <button class="szep-gomb" disabled id="waterglass_button" onclick="
                document.getElementById('surprise_panel').style.display = 'flex';
                document.getElementById('magic_panel').style.display = 'flex';
                document.getElementById('summary_panel').style.display = 'flex';
                document.getElementById('waterglass_percent').textContent = glob_waterglass_percent;
                ugrasDivre('surprise_panel');
                calc_big();
                ">Calculate</button>
                <div id="waterglass_helptext" style="font-size: smaller;">
                    This button is disabled until you calculate the SiO<sub>2</sub> content of the metakaolin above.
                </div>

            </div>
        </div>
        <div class="image baljobbkeret" style="background-image: url('img/geopolymer/wg.jpg');">
        </div>
    </div>
    <div class="row" id="surprise_panel" style="display: none;">
        <div class="text baljobbkeret">
            <div class="padder">
                <p>Surprise! Wonderland!</p>
                <div>
                    Immerse in the endless possibilities of solutions! Just drag the slider and walk down the yellow
                    road.
                </div>
                <br>
                <div style="width: 100%;">
                    <span id="slider_value">100</span> g waterglass solution
                    <input type="range" style="width: 100%;" min="0" max="200" id="slider" oninput="document.getElementById('slider_value').textContent = this.value;
                    document.getElementById('waterglass_gram').textContent=this.value;
                    document.getElementById('waterglass_gram2').textContent=this.value;
                    glob_waterglass_gram=this.value;
                    calc_big();
                    ">
                    <br>
                </div>
                <table>
                    <tr>
                        <th colspan="3"><span id="waterglass_gram"></span> g waterglass solution (<span
                                id="waterglass_percent"></span> %) contains</th>
                    </tr>
                    <tr>
                        <td>Na<sub>2</sub>SiO<sub>3</sub></td>
                        <td><span id="na2sio3_gram"></span> g</td>
                        <td><span id="na2sio3_mol"></span> mol</td>
                    </tr>
                    <tr>
                        <td>Na (2!)</td>
                        <td></td>
                        <td><span id="na_mol"></span> mol</td>
                    </tr>
                    <tr>
                        <td>Si</td>
                        <td></td>
                        <td><span id="si_mol"></span> mol</td>
                    </tr>
                    <tr>
                        <td>H<sub>2</sub>O</td>
                        <td><span id="viz_gram"></span> g</td>
                        <td><span id="viz_mol"></span> mol</td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <th>Material</th>
                        <th>Goal</th>
                        <th>Have</th>
                        <th>Missing</th>
                        <th>Add</th>
                    </tr>
                    <tr>
                        <td>"M"</td>
                        <td>1 mol</td>
                        <td><span id="have_na_mol"></span> mol</td>
                        <td><span id="missing_na_mol"></span> mol</td>
                        <td>NaOH <span id="missing_naoh_gram"></span> g<br>or<br>KOH <span id="missing_koh_gram"></span>
                            g</td>
                    </tr>
                    <tr>
                        <td>Si</td>
                        <td>2 mol</td>
                        <td><span id="have_si_mol"></span> mol</td>
                        <td><span id="missing_si_mol"></span> mol</td>
                        <td><span id="missing_cat_gram"></span> g catt litter (SiO<sub>2</sub>)</td>
                    </tr>
                    <tr>
                        <td>H<sub>2</sub>O</td>
                        <td>5.5 mol</td>
                        <td><span id="have_viz_mol"></span> mol</td>
                        <td><span id="missing_viz_mol"></span> mol</td>
                        <td><span id="missing_viz_gram"></span> g water</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="image baljobbkeret" style="background-image: url('img/geopolymer/yellowroad.jpg');">
        </div>
    </div>
    <div class="row reverse" id="magic_panel" style="display: none;">
        <div class="text baljobbkeret">
            <div class="padder">
                <p>Trips and tricks</p>
                <div>
                    You can try to find a mix where you don't need to add NaOH or water simply by dragging
                    the slider left or right. Try it!
                    <br><br>
                    Or if you don't have waterglass solution on the shelf, you can drag the slider to zero, and
                    end up with a formula without waterglass at all.<br><br>
                    Magic!
                </div>
            </div>
        </div>
        <div class="image baljobbkeret" style="background-image: url('img/geopolymer/alchemy.jpg');">
        </div>
    </div>
    <div class="csik mobil-margok" id="summary_panel" style="display: none;">
        <div class="szurkecsik footsentence">
            <div class="title" style="font-size: 50px;">Summary</div>
            <p>Your Personal Secret Geopolymer Formula:</p>
            <ul>
                <li>M: either <span id="missing_naoh_gram2"></span> g NaOH or <span id="missing_koh_gram2"></span> g KOH</li>
                <li>Waterglass: <span id="waterglass_gram2"></span> g</li>
                <li>Cat litter: <span id="missing_cat_gram2"></span> g</li>
                <li>Metakaolin: <span id="metakaolin5"></span> g</li>
            </ul>

        </div>
    </div>
    <iframe src="footer.html" class="menuframe"></iframe>
    <script>
        document.getElementById('alupercent').value = glob_alupercent;
        document.getElementById('alupercent').value = glob_alupercent;
        document.getElementById('siopercent').value = glob_metakaolin_siliconpercent;
        document.getElementById('slider').value = glob_waterglass_gram;
        document.getElementById('wgpercent').value = glob_waterglass_percent;
        document.getElementById('waterglass_percent').value = glob_waterglass_percent;
        document.getElementById('waterglass_gram').textContent = glob_waterglass_gram;
        document.getElementById('waterglass_gram2').textContent = glob_waterglass_gram;
    </script>
</body>

</html>